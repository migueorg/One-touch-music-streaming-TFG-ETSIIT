\chapter{Introducción}

Este proyecto es software libre, y está liberado con la licencia \cite{gplv3}.\\

Puede encontrarse en el siguiente repositorio: \url{https://github.com/migueorg/One-touch-music-streaming-TFG-ETSIIT/}

\section{Descripción del Problema}
En los tiempos en los que estamos, cada vez es más normal escuchar música o podcast de fondo mientras hacemos otras tareas de nuestro día a día. Escuchamos contenido mientras trabajamos, vamos en el coche, de camino al trabajo, de vuelta a casa, mientras cocinamos, limpiamos, hay quienes también escuchan algún tipo de podcast, ruido blanco o sonido para irse a dormir, entre muchos otros más escenarios. Y a su vez, en el contexto informático en el que estamos, también le hemos dado la espalda a los cables siempre que nos sea posible. Los auriculares inalámbricos son un obligatorio en el día a día de muchas personas, facilitando así la integración de la música en cada vez más contextos diferentes de nuestra vida. Sin embargo, aún teniendo en cuenta los avances en el campo del IoT, no es tan fácil mantener esa sensación de integración y continuidad respecto a la escucha de música.\\

Por ejemplo si llegamos a casa del trabajo, y hemos vuelto escuchando un podcast en nuestros auriculares inalámbricos mientras andábamos, al llegar a casa y ponernos a preparar la comida nos gustaría poder seguir escuchando el podcast por el mismo minuto en el que íbamos pero en los altavoces de casa. Para hacer esto, actualmente podríamos conectar el móvil al altavoz usando el jack de 3.5, sin embargo, los móviles actualmente carecen de dicho puerto (salvo pequeñas excepciones). Otra opción sería emplear un asistente virtual (Alexa, Google Assistant, Siri) y pedirle que reproduzca el podcast que estábamos escuchando, el problema de esto es que tendremos que recordar el nombre concreto del podcast, tenemos que ponernos a hablarle al asistente lo cual rompe la sensación de integración y continuidad, y a todo esto el asistente tiene que ser capaz de entendernos correctamente, lo cual no pasa siempre. Otra opción más, la cual es compatible con la mayoría de altavoces con asistentes integrados, sería la de tener el altavoz en red y mandar el podcast desde el móvil a través de protocolos como Google Cast, AirPlay o Spotify Connect, lo cual es una de las opciones más rápidas y sencillas, pero implica tener que estar navegando a través de aplicaciones e interfaces hasta llegar a la opción de enviar contenido. Y en el caso de que tengamos muchos altavoces en red, tendremos que elegir de entre una lista amplia de dispositivos, al cual queremos enviar dicho contenido. De nuevo, este último caso, aún siendo el más factible, rompe mucho con la sensación de integración y continuidad de la que hablé anteriormente. Sin embargo, Apple sí que tiene una solución para esto integrada en su ecosistema. Para los usuarios que tengan un iPhone y un HomePod, permiten que la reproducción del iPhone continúe en el HomePod simplemente con acercar el iPhone al HomePod, sin la necesidad de navegar por interfaces ni seleccionar nada. Todo de forma transparente para el usuario y en cuestión de segundos. El problema de esto es que fuera de ese ecosistema cerrado de Apple, no hay ninguna opción más. Si un usuario quiere disfrutar de esa transparencia y simplicidad, y no tiene iPhone, bien por el precio del mismo o bien porque prefiere tener un sistema más abierto como es Android, no le será posible disfrutar de esa opción que mantenga la sensación de integración y continuidad. A su vez, esta opción limita la posibilidad de escucha a únicamente el altavoz del HomePod o de los dispositivos HomePods que haya emparejados en casa. Por lo que en caso de tener un equipo propio de alta fidelidad o ajeno al ecosistema de Apple, tampoco se podrá usar.\\

Por tanto, la motivación de este proyecto es la de poder brindar dicha sensación de continuismo al sistema operativo Android con un coste notablemente más bajo que el de la solución de Apple. Y es que esa sensación de la que tanto hincapié se ha hecho a lo largo de la descripción, no es más que una forma de decir facilidad de uso, simpleza, accesibilidad y funcionamiento automático e independiente. Los cuales van a ser parte de los objetivos principales que guíen este proyecto (más adelante se hablará más en concreto de los objetivos). Por otro lado, además de poder solucionar dicho problema en el ecosistema de Android, con este proyecto también se va a buscar la posibilidad de utilizar altavoces que no sean HomePod.


\section{Motivación}
Por tanto, una vez puestos en contexto, la motivación de este proyecto es la de poder brindar dicha sensación de continuismo al sistema operativo Android con un coste notablemente más bajo que el de la solución de Apple. Y es que esa sensación de la que tanto hincapié se ha hecho a lo largo de la descripción, no es más que una manera de decir facilidad de utilización, simpleza, accesibilidad y funcionamiento automático e independiente. Los cuales van a ser parte de los objetivos principales que guíen este proyecto (más adelante se hablará más en concreto de los objetivos). Por otro lado, además de poder solucionar dicho problema en el ecosistema de Android, con este proyecto también se va a buscar la posibilidad de emplear altavoces que no sean HomePod. 

\section{Objetivos}
\begin{itemize}
    \item Voy a desarrollar dos reproductores de audio, uno para Android y otro para Linux, que sean capaces de comunicarse entre ellos. Ambos accederán a la misma biblioteca y soportarán audio en formato MP3.
    \item La comunicación entre ambos deberá de llevarse a cabo en menos de 3 segundos.
    \item Facilidad de uso y sencillez a la hora de compartir la música del reproductor al altavoz. El proceso de envío de música desde el Android hasta el altavoz ha de poder realizarse sin interactuar con menús. (Se entiende que el proceso de montaje de la Raspberry Pi con su módulo NFC queda excluido de este objetivo, aun así se procurará facilitar el proceso de instalación lo más posible, ofreciendo opciones en Docker para desplegar todo, o incluso una imagen en formato iso con el sistema operativo configurado lista para instalar en la tarjeta SD e insertar en la Raspberry Pi)
    \item El coste final del proyecto debe estar por debajo de los 349€, el cual es el precio del HomePod a secas.
\end{itemize}

\section{Personajes}
Los personajes que tienen el problema presentado anteriormente y que, por tanto, son los que usarán la aplicación para solventarlo son:
\begin{itemize}
    \item María, 55 años, le gusta la música, pero no se fía de introducir altavoces con asistentes virtuales en su hogar, tampoco se fía de las grandes empresas tecnológicas por el uso tan masivo que hacen de los datos e intromisión de las mismas en todo lo cotidiano. Fiel amante del Open Source.
    \item Paco, 80 años, desde pequeño siempre le ha gustado la ciencia ficción, y siempre ha admirado lo que la informática es capaz de hacer, le parece magia, sin embargo, se lleva muy mal con ella, se le hace muy complicada y nunca es capaz de aprender correctamente a utilizarla.
    \item Víctor, 18 años, le encanta la perfecta integración que tiene Apple dentro de su ecosistema, y siempre se traga todos los Apple Event, no obstante, no tiene trabajo y no puede permitirse el precio tan elevado de tener el ecosistema Apple completo.
    \item El Piso de Olga es un grupo de jóvenes de entre 20 y 25 años que están acostumbrados a usar la tecnología, pero quieren unificar el control y la interacción de la reproducción de música para todos los integrantes del grupo en un mismo dispositivo de forma simple y sin tener que prestarse los móviles.
\end{itemize}

\section{User Journeys}
Los contextos en los que los personajes citados arriba usarán la aplicación son los siguientes:\\

Persona que no se fía de los asistentes virtuales, sospecha que siempre le están escuchando y espiando, así que no quiere altavoces inteligentes que tengan micrófono, sin embargo, quiere poder seguir escuchando en un altavoz la música que escucha en el móvil cuando llega a casa, sin tener que andar trasteando los menús de las aplicaciones de música, ni tener que navegar por menús y pantallas de dispositivos con altavoces en casa.\\

Persona mayor a la que le gusta la domótica y es fiel amante de la música, le recuerda a eso que siempre vio en las películas cuando era pequeño, sin embargo, cada vez que ha intentado adentrarse en ella (la domótica) le abruma lo complicada que es, nunca se entiende con los asistentes virtuales, nunca sabe que tiene que decir para que le entiendan, incluso no le entienden bien, ya que, tiene un acento muy cerrado así que preferiría algo más sencillo que los asistentes virtuales. Le gustaría poder escuchar música de su biblioteca en el móvil o en sus altavoces de forma sencilla y sin cables, discos, ni historias. Su hijo informático ya ha probado a ponerle en casa diferentes equipos inteligentes, pero ninguno se acomoda a él.\\

Joven que le gusta el ecosistema de Apple y ve las comodidades que este ofrece, como poder transferir contenido desde el iPhone al HomePod, sin embargo, al no tener trabajo no se puede permitir los precios de un HomePod, un iPhone y una suscripción mensual a Apple Music.\\

Piso Olga quieren que cuando organicen fiestas, sus invitados puedan cada uno añadir canciones a la cola fácilmente con sus Android, sin tener que estar dándole continuamente el móvil del que tenga conectado el altavoz a todos cuando están bebidos.\\

\section{Historias de Usuario}
A partir de los personajes y los user story presentados anteriormente, podemos extraer ciertas funcionalidades del proyecto que el público destino espera obtener o poder hacer. Estas funcionalidades clave tienen forma de las siguientes historias de usuario:

\begin{enumerate}
    \item HU0: Como programador quiero saber detalladamente que problema tengo que solventar para empezar a programar.
    \item HU1: Como usuario con pocos recursos económicos (Víctor) quiero poder ejecutar el reproductor en un teléfono Android para poder usar la aplicación en un móvil barato.
    \item HU2: Como usuario amante de la música y con equipo de audio propio (María) quiero utilizar mi propio equipo de altavoces sin tener que utilizar un altavoz comercial de alguna otra marca para escuchar el contenido que envío desde el móvil.
    \item HU3: Como usuario con experiencias nefastas en otros sistemas domóticos, quiero enviar el contenido de la manera más sencilla posible para no tener que andar pulsando botones ni buscando menús de compartir.
    \item HU4: Como grupo de usuarios que empleará la aplicación con diferentes móviles en un solo altavoz (Piso Olga) queremos poder acceder todos al mismo catálogo de audio para no tener que andar pasando ficheros al altavoz.
    \item HU5: Como persona ajena al proyecto quiero conocer las decisiones que se han tomado al desarrollar el proyecto para poder entender por qué se han empleado ciertas plataformas y componentes y poder continuar o modificar su desarrollo si fuese necesario.
\end{enumerate}

Nótese que además de las funcionalidades que el usuario final espera obtener, también se ha dedicado una Historia de Usuario (HU0) para el papel del programador, en este caso yo, con lo que esperaría tener a la hora de empezar un proyecto.
Así como otra Historia de Usuario (HU5) que personifica al tribunal o a cualquier persona que en el futuro encuentre este proyecto y quiera conocer por qué se ha actuado de la forma que se ha hecho durante todo el trabajo.

\section{Milestones}
Los productos mínimamente viables o releases que se irán haciendo durante el desarrollo se han estimado que serán los siguientes:

\begin{enumerate}
    \item M0: Repositorio y documentación funcional sobre la que empezar a programar.
    \item M1: Reproductor de música local para Android.
    \item M2: Reproductor de música para el altavoz (Raspberry Pi) basado en Linux.
    \item M3: Comunicación NFC entre Android y Raspberry Pi.
    \item M4: Biblioteca de música remota para el reproductor de Android.
    \item M5: Documentación.
    \item M6: Presentación.
\end{enumerate}